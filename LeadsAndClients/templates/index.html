<!doctype html>
<html lang="en">
  <head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

    <title>Create and Read Friends</title>

    <style>

        .body
        {
            background-color: lightgrey;
        }

        .container
        {
            margin-top: 55px;
            margin-left: 55px;
           
        }

        .tabledisplay
        {
            margin-top: 15px;
            width: 600px;
        }

        .h32
        {
            margin-top: 45px;
        }

        .chartContainer
        {
            width: 500px;
        }
   

    </style>
  </head>
  <body class ="body">

        <div class="whole">

        <div class = container>

            <div class="topheader">
               <u> <h2>List of all customers and # of Leads</h2></u>
            </div>

            <div class ="tabledisplay">
                <!-- The following is bootstrap code for table -->
                    <table class="table">
                            <thead class="thead-dark">
                              <tr>
                                <th scope="col">Customer Name</th>
                                <th scope="col">Number of Leads</th>
                              </tr>
                            </thead>
                            <tbody>
                                {% for client in all_clients %}
                              <tr>                             
                                <td>{{client.NAME}}</td>
                                <td>{{client.leads}}</td>
                              </tr>
                                {% endfor %}

                            </tbody>
                         
                      
                    </table>
                <!-- Bootstrap table code ends -->

            </div>

            <div id="chartContainer" style="height: 370px; width: 55%;"></div>
                <script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
                <script src="https://canvasjs.com/assets/script/jquery.canvasjs.min.js"></script>

                    <script>
                            window.onload = function () {
                            
                            var options = {
                                title: {
                                    text: "Customer and Number of New Leads"
                                },
                                subtitles: [{
                                    text: ""
                                }],
                                animationEnabled: true,
                                data: [{
                                    type: "pie",
                                    startAngle: 40,
                                    toolTipContent: "<b>{label}</b>: {y}%",
                                    showInLegend: "true",
                                    legendText: "{label}",
                                    indexLabelFontSize: 16,
                                    indexLabel: "{label} - {y}%",
                                    dataPoints: [
                                        { y: 35, label: "Michael Choi" },
                                        { y: 34, label: "Joe Smith" },
                                        { y: 32, label: "Ryan owen" },
                                        { y: 21, label: "Masaki Fujimuto" },
                            
                                    ]
                                }]
                            };
                            $("#chartContainer").CanvasJSChart(options);
                            
                            }

                            </script>



            </div>


        </div>
    </div>
    

   
       
  </body>
</html>